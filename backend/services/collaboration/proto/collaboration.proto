syntax = "proto3";

package collaboration;

option go_package = "./proto;collaboration";

service Collaboration {
	rpc CreateNewGroupWithAdmin(CreateGroupRequest) returns (SuccessResponse) {}
	rpc GetGroupUserRole(GroupRequest) returns (GroupRoleResponse) {}
	rpc GetUserGroups(UserGroupsRequest) returns (UserGroupsResponse) {}
	rpc FindGroupByPublicID(GroupRequest) returns (GroupResponse) {}
}

enum GroupRole {
	READ = 0;
	WRITE = 1;
	ADMIN = 2;
}

message CreateGroupRequest {
	uint64 userID = 1;
	string groupName = 2;
}

message GroupRequest {
	uint64 userID = 1;
	string groupPublicID = 2;
}

message UserGroupsRequest {
	uint64 userID = 1;
}

message SuccessResponse {
	bool success = 1;
}

message GroupRoleResponse {
	uint64 groupID = 1;
	GroupRole groupRole = 2;
}

message GroupResponse {
	uint64 groupID = 1;
	string groupName = 2;
}

message UserGroupsResponse {
	repeated Group groups = 1;
}

message Group {
	string groupName = 1;
	string groupPublicID = 2;
}